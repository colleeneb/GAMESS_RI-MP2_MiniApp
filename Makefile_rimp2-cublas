FC=mpifort
FFLAGS=-qsmp=omp -qoffload -qsuffix=cpp=f90 -DCUBLAS -g
LDFLAGS=-lcublas 
EXES=rimp2

all: $(EXES)

rimp2: cublasf.o rimp2_energy_whole_KERN.o
	$(FC) -o $@ $(FFLAGS) $^ $(LDFLAGS)


.SUFFIXES:
.SUFFIXES: .c .o .f90 .cu .cpp .cuf
.c.o:
	$(CC) $(CFLAGS) -c $<
.cpp.o:
	$(CXX) $(CXXFLAGS) -c $<
.f90.o:
	$(FC) $(FFLAGS) -c $<
.PHONY: clean
clean:
	rm -rf *.o *.mod $(EXES)
